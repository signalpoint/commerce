function _commerce_addressfield_inject_onto_pane(a){try{switch(console.log(drupalgap_router_path_get(),a),drupalgap_router_path_get()){case"checkout/%":a.commerce_customer_billing&&_commerce_addressfield_inject_components(a,"commerce_customer_billing");break;case"checkout/shipping/%":a.commerce_customer_shipping&&_commerce_addressfield_inject_components(a,"commerce_customer_shipping")}}catch(b){console.log("_commerce_addressfield_inject_onto_pane",b)}}function _commerce_addressfield_inject_components(a,b){var c=b+"_entities",d=a[c][a[b]].commerce_customer_address,e="checkout/%"==drupalgap_router_path_get()?"commerce_checkout_view":"commerce_checkout_shipping_view",f="commerce_checkout_view"==e?"billing_information":"shipping_information",g=drupalgap_form_get_element_id(f,e);$.each(d,function(a,b){var c=g+"-"+a,d=$("#"+c);if(d.get(0)){if("country"==a&&"US"!=b&&b!=$(d).val())return $(d).val(b).selectmenu("refresh",!0).change(),!1;"text"==$(d).attr("type")?$(d).val(b):"SELECT"==$(d).get(0).tagName&&$(d).val(b).selectmenu("refresh",!0)}})}function commerce_block_info(){var a={commerce_cart:{delta:"commerce_cart",module:"commerce"}};return a}function commerce_block_view(a){var b="";if("commerce_cart"==a){var c=drupalgap_get_page_id(),d=c+"_cart";b='<div id="'+d+'" class="commerce_cart"></div>'+drupalgap_jqm_page_event_script_code({page_id:c,jqm_page_event:"pageshow",jqm_page_event_callback:"_commerce_block_view",jqm_page_event_args:JSON.stringify({cart_container_id:d})})}return b}function _commerce_block_view(a){try{commerce_cart_index(null,{success:function(b){0!=b.length&&$.each(b,function(b,c){var d=theme("commerce_cart_block",{order:c});return $("#"+a.cart_container_id).html(d).trigger("create"),!1})}})}catch(b){console.log("_commerce_block_view - "+b)}}function _commerce_cart_attribute_change(){try{_commerce_product_display_product_id=_commerce_product_display_get_current_product_id()}catch(a){console.log("_commerce_cart_attribute_change - "+a)}}function commerce_cart_view(){try{return'<div id="commerce_cart"></div>'}catch(a){console.log("commerce_cart_view - "+a)}}function commerce_cart_view_pageshow(){try{commerce_cart_index(null,{success:function(a){0!=a.length&&$.each(a,function(a,b){_commerce_order[a]=b;var c=theme("commerce_cart",{order:b});return $("#commerce_cart").html(c).trigger("create"),!1})}})}catch(a){console.log("commerce_cart_view_pageshow - "+a)}}function commerce_cart_field_formatter_view(a,b,c,d,e,f,g){try{var h={};if(!empty(f)){var i='<div id="'+commerce_cart_container_id(a,b.nid)+'"></div>'+drupalgap_jqm_page_event_script_code({page_id:drupalgap_get_page_id(),jqm_page_event:"pageshow",jqm_page_event_callback:"_commerce_cart_field_formatter_view_pageshow",jqm_page_event_args:JSON.stringify({entity_type:a,entity_id:b.nid})});h[0]={markup:i}}return h}catch(j){console.log("commerce_cart_field_formatter_view - "+j)}}function _commerce_cart_field_formatter_view_pageshow(a){try{var b=a.entity_type,c=a.entity_id;commerce_product_display_load(c,{success:function(a){var d=drupalgap_get_form("commerce_cart_add_to_cart_form",a);$("#"+commerce_cart_container_id(b,c)).html(d).trigger("create")}})}catch(d){console.log("_commerce_cart_field_formatter_view_pageshow - "+d)}}function commerce_cart_container_id(a,b){try{return"commerce_cart_container_"+a+"_"+b}catch(c){console.log("commerce_cart_container_id - "+c)}}function commerce_checkout_complete_view(a){try{return'<div id="commerce_checkout_complete_'+a+'"></div>'}catch(b){console.log("commerce_checkout_complete_view - "+b)}}function commerce_checkout_complete_view_pageshow(a){try{commerce_checkout_complete({data:{order_id:a},success:function(b){var c="<div>Checkout Complete</div>";$("#commerce_checkout_complete_"+a).html(c).trigger("create")},error:function(a,b,c){try{options.error&&options.error(a,b,c)}catch(d){console.log("commerce_checkout_complete - error - "+d)}}})}catch(b){console.log("commerce_checkout_complete_view_pageshow - "+b)}}function commerce_checkout_view(a,b,c){try{return a.elements.order_id={type:"hidden",default_value:c},a.elements.billing_information={type:"addressfield_form_element",title:t("Billing information"),default_country:"US",required:!0,value_callback:"addressfield_field_value_callback"},a.elements.submit={type:"submit",value:"Continue to next step"},a.buttons.cancel=drupalgap_form_cancel_button(),a}catch(d){console.log("commerce_checkout_view - "+d)}}function commerce_checkout_view_pageshow(a,b){try{commerce_order_load(b,{success:function(a){}})}catch(c){console.log("commerce_checkout_view_pageshow - "+c)}}function commerce_checkout_view_validate(a,b){try{if(b.values.customer_profile_copy){var c=commerce_checkout_shipping_element_names();$.each(c,function(a,c){var d=c.replace("shipping","billing");b.values[c]=b.values[d]})}}catch(d){console.log("commerce_checkout_view_validate - "+d)}}function commerce_checkout_view_submit(a,b){try{variable_set("commerce_checkout_form_state",b);var c=b.values.order_id;commerce_order_load(c,{success:function(a){var d=function(){drupalgap_goto(drupalgap.commerce.commerce_shipping?"checkout/shipping/"+c:"checkout/review/"+c)};if(a.commerce_customer_billing){var e=a.commerce_customer_billing,f=a.commerce_customer_billing_entities[e];f.commerce_customer_address=b.values.billing_information,commerce_customer_profile_update(f,{success:d})}else commerce_customer_profile_create({type:"billing",commerce_customer_address:b.values.billing_information},{success:function(b){a.commerce_customer_billing=b.profile_id,commerce_order_update(a,{success:d})}})}})}catch(d){console.log("commerce_checkout_view_submit - "+d)}}function commerce_checkout_review_order_container_id(a){return"commerce-checkout-review-order-"+a}function commerce_checkout_review_order_page(a){return'<div id="'+commerce_checkout_review_order_container_id(a)+'"></div>'}function commerce_checkout_review_order_pageshow(a){commerce_order_load(a,{success:function(b){var c={},d=[];$.each(b.commerce_line_items_entities,function(a,c){var e=theme("commerce_cart_line_item_review",{line_item:c,order:b});d.push(e)}),c["line-items"]={theme:"jqm_item_list",items:d},c["order-total"]={theme:"commerce_cart_total",order:b},c.form={markup:drupalgap_get_form("commerce_checkout_review_order_view",b)};var e=commerce_checkout_review_order_container_id(a);$("#"+e).html(drupalgap_render(c)).trigger("create")}})}function commerce_checkout_review_order_view(a,b,c){try{var d=c.order_id;a.elements.order_id={type:"hidden",default_value:d};var e="<p><strong>Username</strong>: "+Drupal.user.name+"</p>";e+="<p><strong>E-mail address</strong>: "+Drupal.user.mail+"</p>",a.elements.account_information={title:t("Account information"),markup:e};var f=c.commerce_customer_billing,g=c.commerce_customer_billing_entities[f];return a.elements.billing_information={title:t("Billing information"),markup:theme("addressfield",g.commerce_customer_address)},drupalgap.commerce.commerce_shipping&&(f=c.commerce_customer_shipping,g=c.commerce_customer_shipping_entities[f],a.elements.shipping_information={title:t("Shipping information"),markup:theme("addressfield",g.commerce_customer_address)}),a.elements.submit={type:"submit",value:t("Continue to next step")},a.buttons.cancel=drupalgap_form_cancel_button(),a.buttons.cancel.title=t("Go back"),a}catch(h){console.log("commerce_checkout_review_order_view - "+h)}}function commerce_checkout_review_order_view_submit(a,b){try{drupalgap_goto("checkout/payment/"+b.values.order_id)}catch(c){console.log("commerce_checkout_review_order_view_submit - "+c)}}function commerce_checkout_element_names(){return["name_line","country","thoroughfare","premise","locality","administrative_area","postal_code"]}function commerce_checkout_billing_element_names(){try{var a=commerce_checkout_element_names(),b=[];return $.each(a,function(a,c){b.push("billing_"+c)}),b}catch(c){console.log("commerce_checkout_billing_element_names - "+c)}}function commerce_checkout_shipping_element_names(){try{var a=commerce_checkout_element_names(),b=[];return $.each(a,function(a,c){b.push("shipping_"+c)}),b}catch(c){console.log("commerce_checkout_shipping_element_names - "+c)}}function _commerce_checkout_customer_profile_copy_onclick(){try{commerce_checkout_customer_profile_copy_toggle()}catch(a){console.log("_commerce_checkout_customer_profile_copy_onclick - "+a)}}function commerce_checkout_complete(a){try{if(a.method="POST",a.contentType="application/x-www-form-urlencoded",a.path="checkout_complete.json","undefined"!=typeof a.flatten_fields&&a.flatten_fields===!1&&(a.path+="&flatten_fields=false"),a.service="checkout_complete",a.resource="create",a.data){var b="";for(var c in a.data)a.data.hasOwnProperty(c)&&(b+=c+"="+a.data[c]+"&");""!=b&&(b=b.substring(0,b.length-1),a.data=b)}Drupal.services.call(a)}catch(d){console.log("commerce_checkout_complete - "+d)}}function commerce_customer_profile_primary_key(){return"profile_id"}function commerce_line_item_save(a,b){try{commerce_line_item_update(a,b)}catch(c){console.log("commerce_line_item_save - "+c)}}function commerce_product_display_load(a,b){try{commerce_product_display_retrieve(a,b)}catch(c){console.log("commerce_product_display_load - "+c)}}function commerce_order_load(a,b){try{commerce_order_retrieve(a,b)}catch(c){console.log("commerce_order_load - "+c)}}function commerce_order_save(a,b){try{commerce_order_update(a,b)}catch(c){console.log("commerce_order_save - "+c)}}function commerce_product_load(a,b){try{commerce_product_retrieve(a,b)}catch(c){console.log("commerce_product_load - "+c)}}function commerce_cart_add_to_cart_form(a,b,c){try{_commerce_product_display=c,_commerce_product_attribute_field_names=[],_commerce_product_display_product_id=null,a.entity_type="commerce_product",a.bundle=c.type;var d=commerce_get_content_type_product_reference_entities_field_name(c.type);if(c[d]){var e=null;$.each(c[d],function(a,b){return e=b.type,!1});var f=drupalgap_field_info_instances("commerce_product",e);if(!f)return void console.log("WARNING: commerce_cart_add_to_cart_form() - no field instances were located for "+e);$.each(f,function(b,e){if("undefined"!=typeof e.commerce_cart_settings&&"undefined"!=typeof e.commerce_cart_settings.attribute_field){_commerce_product_attribute_field_names.push(b);var f=e.widget.module,g=e.widget.type;switch(f){case"options":switch(g){case"options_select":a.elements[b]={title:e.label,type:"select",required:e.required,default_value:1};var h={0:{options:{attributes:{onchange:"_commerce_cart_attribute_change()",class:"_commerce_cart_attribute",field_name:b}}}};$.each(c[d],function(a,c){_commerce_product_display_product_id||(_commerce_product_display_product_id=a);var d=c[b],e=c[b];"undefined"!=typeof c[b+"_taxonomy_term_name"]&&(d=parseInt(c[b]),e=c[b+"_taxonomy_term_name"]),"undefined"==typeof h[0].options[d]&&(h[0].options[d]=e,console.log(JSON.stringify(h[0].options)))}),a.elements[b][c.language]=h;break;default:console.log("WARNING: commerce_cart_add_to_cart_form - unsupported type ("+g+")")}break;default:console.log("WARNING: commerce_cart_add_to_cart_form - unsupported module ("+f+")")}}})}return a.elements.submit={type:"submit",value:"Add to cart"},a}catch(g){console.log("commerce_cart_add_to_cart_form - "+g)}}function commerce_cart_add_to_cart_form_submit(a,b){try{commerce_cart_index(null,{success:function(a){0==a.length?commerce_cart_create({success:function(a){_commerce_line_item_add_to_order({order:a,success:_commerce_cart_add_to_cart_form_submit_success})}}):$.each(a,function(a,b){return _commerce_line_item_add_to_order({order:b,success:_commerce_cart_add_to_cart_form_submit_success}),!1})}})}catch(c){console.log("commerce_cart_add_to_cart_form_submit - "+c)}}function _commerce_cart_add_to_cart_form_submit_success(a){try{drupalgap_goto("cart",{reloadPage:!0})}catch(b){console.log("_commerce_cart_add_to_cart_form_submit_success - "+b)}}function commerce_get_content_type_product_reference_field_name(a){return drupalgap.settings.commerce.bundles[a].product_reference_field_name}function commerce_get_content_type_product_reference_entities_field_name(a){return commerce_get_content_type_product_reference_field_name(a)+"_entities"}function _commerce_cart_line_item_remove(a,b){try{commerce_line_item_delete(b,{success:function(a){commerce_cart_view_pageshow()}})}catch(c){console.log("_commerce_cart_line_item_remove - "+c)}}function commerce_cart_button_update_click(a){try{var b=_commerce_order[a];$.each(b.commerce_line_items_entities,function(a,c){var d=$("#commerce_cart_line_item_quantity_"+a).val()+".00",e=b.commerce_line_items_entities[a].quantity;if(d!=e){var c={line_item_id:parseInt(a),quantity:d};commerce_line_item_save(c,{quantity:d,success:function(a){commerce_cart_view_pageshow()}})}})}catch(c){console.log("commerce_cart_button_update_click - "+c)}}function commerce_checkout_customer_profile_copy_toggle(){try{var a=$("#edit-commerce-checkout-view-customer-profile-copy").is(":checked"),b=commerce_checkout_shipping_element_names();$.each(b,function(b,c){var d="."+drupalgap_form_get_element_container_class(c).replace("form-item ","");a?$(d).hide():$(d).show()})}catch(c){console.log("commerce_checkout_customer_profile_copy_toggle - "+c)}}function commerce_install(){drupalgap_add_css(drupalgap_get_path("module","commerce")+"/commerce.css"),"undefined"==typeof drupalgap.settings.commerce&&console.log("WARNING - drupalgap.settings.commerce is undefined, view the README file for commerce.js")}function commerce_menu(){try{var a={};return a.cart={title:"Shopping cart",page_callback:"commerce_cart_view",pageshow:"commerce_cart_view_pageshow"},a["checkout/%"]={title:"Checkout",page_callback:"drupalgap_get_form",page_arguments:["commerce_checkout_view",1],pageshow:"commerce_checkout_view_pageshow"},a["checkout/shipping/%"]={title:"Shipping",page_callback:"drupalgap_get_form",page_arguments:["commerce_checkout_shipping_view",2]},a["checkout/review/%"]={title:"Review order",page_callback:"commerce_checkout_review_order_page",page_arguments:[2],pageshow:"commerce_checkout_review_order_pageshow"},a["checkout/complete/%"]={title:"Checkout complete",page_callback:"commerce_checkout_complete_view",pageshow:"commerce_checkout_complete_view_pageshow",page_arguments:[2]},a}catch(b){console.log("commerce_menu - "+b)}}function commerce_services_postprocess(a,b){try{if("system"==a.service&&"connect"==a.resource)b.commerce?drupalgap.commerce=b.commerce:console.log("commerce_services_postprocess - failed to extract  commerce object from system connect. Is the commerce_drupalgap  module enabled on your Drupal site?");else if("commerce_order"==a.service&&"retrieve"==a.resource)_commerce_order[b.order_id]=b;else if("services_addressfield"==a.service&&"get_address_format_and_administrative_areas"==a.resource)switch(drupalgap_router_path_get()){case"checkout/%":_commerce_addressfield_inject_onto_pane(_commerce_order[arg(1)]);break;case"checkout/shipping/%":_commerce_addressfield_inject_onto_pane(_commerce_order[arg(2)])}}catch(c){console.log("commerce_services_postprocess - "+c)}}function commerce_price_field_formatter_view(a,b,c,d,e,f,g){try{var h={};if(!empty(f)){var i="";switch(f.currency_code){case"USD":i+="$";break;default:i+=f.currency_code+" "}i+=(f.amount/100).toFixed(2),h[0]={markup:i}}return h}catch(j){console.log("commerce_price_field_formatter_view - "+j)}}function commerce_line_item_primary_key(){return"line_item_id"}function _commerce_line_item_add_to_order(a){try{var b=_commerce_product_display_get_current_product_id();if(!b)return void console.log("WARNING: _commerce_line_item_add_to_order - no product_id");commerce_line_item_create({data:{order_id:a.order.order_id,type:"product",commerce_product:b},success:function(b){a.success&&a.success(b)}})}catch(c){console.log("_commerce_line_item_add_to_order - "+c)}}function commerce_order_primary_key(){return"order_id"}function commerce_product_types(){try{return drupalgap.commerce.commerce_product_types}catch(a){drupalgap_error(a)}}function commerce_product_reference_node_types(){try{return drupalgap.commerce.commerce_product_reference_node_types}catch(a){drupalgap_error(a)}}function _commerce_product_display_get_current_product_id(){try{var a="#"+drupalgap_get_page_id()+" select._commerce_cart_attribute",b={};$(a).each(function(a,c){var d=$(c).attr("field_name"),e=$(c).val();"null"==e&&(e=null),b[d]=e});var c=null,d=commerce_get_content_type_product_reference_entities_field_name(_commerce_product_display.type);return $.each(_commerce_product_display[d],function(a,d){var e=!0;if($.each(_commerce_product_attribute_field_names,function(a,c){if(d[c]!=b[c])return e=!1,!1}),e)return c=a,!1}),c}catch(e){console.log("_commerce_product_display_get_current_product_id - "+e)}}function commerce_services_preprocess(a){try{switch(a.service){case"commerce_line_item":"update"!=a.resource&&"delete"!=a.resource||(a.path=a.path.replace("commerce_line_item","line-item"));break;case"commerce_order":"retrieve"!=a.resource&&"update"!=a.resource||(a.path=a.path.replace("commerce_order","order"));break;case"commerce_product_display":"retrieve"==a.resource&&(a.path=a.path.replace("commerce_product_display","product-display"));break;case"commerce_product":"retrieve"==a.resource&&(a.path=a.path.replace("commerce_product","product"));break;case"commerce_customer_profile":"retrieve"!=a.resource&&"update"!=a.resource||(a.path=a.path.replace("commerce_customer_profile","customer-profile"))}}catch(b){console.log("commerce_services_preprocess - "+b)}}function commerce_cart_create(a){try{a.method="POST",a.contentType="application/x-www-form-urlencoded",a.path="cart.json","undefined"!=typeof a.flatten_fields&&a.flatten_fields===!1&&(a.path+="&flatten_fields=false"),a.service="cart",a.resource="create",Drupal.services.call(a)}catch(b){console.log("commerce_cart_create - "+b)}}function commerce_cart_index(a,b){try{b.method="GET",b.path="cart.json",b.service="cart",b.resource="index",Drupal.services.call(b)}catch(c){console.log("commerce_cart_index - "+c)}}function commerce_line_item_create(a){try{if(a.method="POST",a.contentType="application/x-www-form-urlencoded",a.path="line-item.json","undefined"!=typeof a.flatten_fields&&a.flatten_fields===!1&&(a.path+="&flatten_fields=false"),a.service="line-item",a.resource="create",a.data){var b="";for(var c in a.data)a.data.hasOwnProperty(c)&&(b+=c+"="+a.data[c]+"&");""!=b&&(b=b.substring(0,b.length-1),a.data=b)}Drupal.services.call(a)}catch(d){console.log("commerce_line_item_create - "+d)}}function commerce_line_item_update(a,b){try{services_resource_defaults(b,"commerce_line_item","update"),entity_update("commerce_line_item",null,a,b)}catch(c){console.log("commerce_line_item_update - "+c)}}function commerce_line_item_delete(a,b){try{services_resource_defaults(b,"commerce_line_item","delete"),entity_delete("commerce_line_item",a,b)}catch(c){console.log("commerce_line_item_delete - "+c)}}function commerce_order_retrieve(a,b){try{services_resource_defaults(b,"commerce_order","retrieve"),entity_retrieve("commerce_order",a,b)}catch(c){console.log("commerce_order_retrieve - "+c)}}function commerce_order_update(a,b){try{var c="commerce_order/"+a.order_id+".json";a.order_id=parseInt(a.order_id),a.uid=parseInt(a.uid),a.created=parseInt(a.created),a.changed=parseInt(a.changed);var d=$.extend({},a);d.revision_id&&delete d.revision_id,d.revision_uid&&delete d.revision_uid,d.revision_timestamp&&delete d.revision_timestamp,d.revision_hostname&&delete d.revision_hostname,d.commerce_order_total_formatted&&delete d.commerce_order_total_formatted,d.commerce_line_items_entities&&delete d.commerce_line_items_entities,d.commerce_customer_billing_entities&&delete d.commerce_customer_billing_entities,d.data&&delete d.data,Drupal.services.call({method:"PUT",path:c,service:"commerce_order",resource:"update",entity_type:"commerce_order",entity_id:a.order_id,bundle:null,data:JSON.stringify(d),success:function(a){b.success&&b.success(a)},error:function(a,c,d){b.error&&b.error(a,c,d)}})}catch(e){console.log("commerce_order_update - "+e)}}function commerce_product_display_retrieve(a,b){try{services_resource_defaults(b,"commerce_product_display","retrieve"),entity_retrieve("commerce_product_display",a,b)}catch(c){console.log("commerce_product_display_retrieve - "+c)}}function commerce_product_retrieve(a,b){try{services_resource_defaults(b,"commerce_product","retrieve"),entity_retrieve("commerce_product",a,b)}catch(c){console.log("commerce_product_retrieve - "+c)}}function commerce_product_index(a,b){try{var c="";if(a.filter){var d="";for(var e in a.filter)if(a.filter.hasOwnProperty(e)){var f=encodeURIComponent(e),g=a.filter[e];$.isArray(g)?$.each(g,function(a,b){d+=f+"["+a+"]="+b+"&"}):d+="filter["+f+"]="+g+"&"}""!=d&&(d=d.substring(0,d.length-1),c+="&"+d)}if(a.filter_op){var h="";for(var e in a.filter_op)if(a.filter_op.hasOwnProperty(e)){var f=encodeURIComponent(e),g=encodeURIComponent(a.filter_op[e]);h+="filter_op["+f+"]="+g+"&"}""!=h&&(h=h.substring(0,h.length-1),c+="&"+h)}b.method="GET",b.path="product.json"+c,b.service="product",b.resource="index",Drupal.services.call(b)}catch(i){console.log("commerce_product_index - "+i)}}function commerce_customer_profile_create(a,b){try{b.method="POST",b.path="customer-profile.json",b.service="customer-profile",b.resource="create",b.data=JSON.stringify(a),Drupal.services.call(b)}catch(c){console.log("commerce_customer_profile_create - "+c)}}function commerce_customer_profile_update(a,b){try{a.profile_id=parseInt(a.profile_id),a.uid=parseInt(a.uid),a.created=parseInt(a.created),a.changed=parseInt(a.changed);var c=$.extend({},a);c.revision_id&&delete c.revision_id,c.revision_uid&&delete c.revision_uid,c.revision_timestamp&&delete c.revision_timestamp,c.rdf_mapping&&delete c.rdf_mapping,"undefined"!=typeof c.data&&delete c.data,services_resource_defaults(b,"commerce_customer_profile","update"),entity_update("commerce_customer_profile",null,c,b)}catch(d){console.log("commerce_customer_profile_update - "+d)}}function commerce_customer_profile_delete(a,b){try{services_resource_defaults(b,"commerce_customer_profile","delete"),entity_delete("commerce_customer_profile",a,b)}catch(c){console.log("commerce_customer_profile_delete - "+c)}}function commerce_checkout_shipping_view(a,b,c){try{return a.elements.order_id={type:"hidden",default_value:c},a.elements.shipping_information={type:"addressfield_form_element",title:t("Shipping information"),default_country:"US",required:!0,value_callback:"addressfield_field_value_callback",options:{attributes:{style:"display: none;"}}},a.elements.submit={type:"submit",value:"Continue to next step"},a.buttons.cancel=drupalgap_form_cancel_button(),a}catch(d){console.log("commerce_shipping_view - "+d)}}function commerce_checkout_shipping_view_pageshow(a,b){try{}catch(c){console.log("commerce_checkout_shipping_view_pageshow - "+c)}}function commerce_checkout_shipping_view_validate(a,b){try{if(b.values.customer_profile_copy){var c=commerce_shipping_shipping_element_names();$.each(c,function(a,c){var d=c.replace("shipping","billing");b.values[c]=b.values[d]})}}catch(d){console.log("commerce_checkout_shipping_view_validate - "+d)}}function commerce_checkout_shipping_view_submit(a,b){try{variable_set("commerce_shipping_form_state",b);var c=b.values.order_id;commerce_order_load(c,{success:function(a){var c=function(){drupalgap_goto("checkout/review/"+b.values.order_id)};if(a.commerce_customer_shipping){var d=a.commerce_customer_shipping,e=a.commerce_customer_shipping_entities[d];e.commerce_customer_address=b.values.shipping_information,commerce_customer_profile_update(e,{success:c})}else commerce_customer_profile_create({type:"shipping",commerce_customer_address:b.values.shipping_information},{success:function(b){a.commerce_customer_shipping=b.profile_id,commerce_order_update(a,{success:c})}})}})}catch(d){console.log("commerce_checkout_shipping_view_submit - "+d)}}function theme_commerce_cart(a){try{var b="",c=0;if(a.order.commerce_line_items&&(c=a.order.commerce_line_items.length),0==c)return"Your shopping cart is empty.";var d=[];return $.each(a.order.commerce_line_items_entities,function(b,c){var e=theme("commerce_cart_line_item",{line_item:c,order:a.order});d.push(e)}),b+=theme("jqm_item_list",{items:d}),b+=theme("commerce_cart_total",{order:a.order})+theme("commerce_cart_buttons",{order:a.order})}catch(e){console.log("theme_commerce_cart - "+e)}}function theme_commerce_cart_block(a){try{var b="",c=0;if(a.order.commerce_line_items&&(c=a.order.commerce_line_items.length),c>0){var d=a.order.commerce_order_total_formatted+" ("+c+" "+drupalgap_format_plural(c,"item","items")+")",e=l(d,"cart",{reloadPage:!0});b+=theme("jqm_item_list",{items:[e]})}return b}catch(f){console.log("theme_commerce_cart_block - "+f)}}function theme_commerce_cart_buttons(a){try{var b=theme("button_link",{text:"Update cart",path:null,options:{attributes:{"data-icon":"refresh",onclick:"commerce_cart_button_update_click("+a.order.order_id+")"}}})+theme("button_link",{text:"Checkout",path:"checkout/"+a.order.order_id,options:{attributes:{"data-icon":"check","data-theme":"b"}}});return b}catch(c){console.log("theme_commerce_cart_buttons - "+c)}}function theme_commerce_cart_line_item(a){try{var b="<h2>"+a.line_item.line_item_label+"</h2><p><strong>Price</strong>: "+a.line_item.commerce_unit_price_formatted+"</p>";return"shipping"!=a.line_item.type&&(b+=theme("commerce_cart_line_item_quantity",{line_item:a.line_item,order:a.order})+theme("commerce_cart_line_item_remove",{line_item:a.line_item,order:a.order})),b+='<p class="ui-li-aside"><strong>Total</strong>: '+a.line_item.commerce_total_formatted+"</p>"}catch(c){console.log("theme_commerce_cart_line_item - "+c)}}function theme_commerce_cart_line_item_review(a){try{var b=Math.floor(a.line_item.quantity),c=a.line_item.line_item_label,d="<h2>"+b+" x "+c+"</h2><p><strong>Price</strong>: "+a.line_item.commerce_unit_price_formatted+"</p>";return d+='<p class="ui-li-aside"><strong>Total</strong>: '+a.line_item.commerce_total_formatted+"</p>"}catch(e){console.log("theme_commerce_cart_line_item_review - "+e)}}function theme_commerce_cart_line_item_quantity(a){try{var b="commerce_cart_line_item_quantity_"+a.line_item.line_item_id,c={type:"number",id:b,value:Math.floor(a.line_item.quantity),line_item_id:a.line_item.line_item_id,min:"1",step:"1"},d="<input "+drupalgap_attributes(c)+" />",e='<label for="'+b+'">Quantity</label>'+d;return e}catch(f){console.log("theme_commerce_cart_line_item_quantity - "+f)}}function theme_commerce_cart_line_item_remove(a){try{var b="<p>"+l("Remove",null,{attributes:{onclick:"_commerce_cart_line_item_remove("+a.order.order_id+", "+a.line_item.line_item_id+")"}})+"</p>";return b}catch(c){console.log("theme_commerce_cart_line_item - "+c)}}function theme_commerce_cart_total(a){try{return'<h3 class="ui-bar ui-bar-a ui-corner-all">Order Total: '+a.order.commerce_order_total_formatted+"</h3>"}catch(b){console.log("theme_commerce_cart_total - "+b)}}var _commerce_order={},_commerce_product_display=null,_commerce_product_attribute_field_names=null,_commerce_product_display_product_id=null;